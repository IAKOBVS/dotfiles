#!/bin/sh
if test ! $3
then
 	echo 'Usage: sed <dir> <find> <replace>'
	return 1
fi
if test $(uname -s) = 'Linux'
then
	grep --color=always "$2" $(find "$1" -type f) | sed -n "s|$2|$3|gp"
	echo "Replace $2 with $3 (y/n)"
	read -r ok
	test $ok != 'y' || return
	exec find "$1" -type f -exec sed -i "s|$2|$3|g" {} \;
else
	exec echo 'sed -i is not available!'
fi
