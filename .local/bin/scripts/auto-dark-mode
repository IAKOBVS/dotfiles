#!/bin/sh
gethour() {
	LC_TIME="C.UTF-8" date | awk '{ gsub(/:.*/, ""); print $4 }'
}
curr_hour=$(gethour)
if [ $curr_hour -lt 18 ];
then
	zw
	gsettings set org.gnome.desktop.interface color-scheme 'prefer-light'
	cp -f $HOME/.config/alacritty/alacritty.toml.white $HOME/.config/alacritty/alacritty.toml
	sleep $(((18 - $curr_hour) * 3600))
	auto-dark-mode
else
	zb
	gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'
	cp -f $HOME/.config/alacritty/alacritty.toml.dark $HOME/.config/alacritty/alacritty.toml
	killall redshift
fi
